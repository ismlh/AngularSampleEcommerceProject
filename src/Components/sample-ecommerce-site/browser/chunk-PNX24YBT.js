import{a as B}from"./chunk-OZX33LC5.js";import{a as O,b as F,e as L,g as D,l as A}from"./chunk-QNAUOHVV.js";import{Ea as h,Ga as u,Ia as i,Ja as e,Ka as x,Na as b,Oa as g,Pa as p,Ra as n,Sa as f,Ta as y,Ua as w,V as S,Va as v,Wa as E,Ya as T,Za as C,_a as _,ca as s,da as m,ra as P,sb as V,tb as M,ua as l,va as I,vb as k,wb as N}from"./chunk-N3C7RMIE.js";function W(c,r){if(c&1){let t=b();i(0,"p",19),g("click",function(){s(t);let a=p();return m(a.clearShoppingCart())}),n(1,"Clear Shopping Cart"),e()}}function $(c,r){if(c&1){let t=b();i(0,"tr")(1,"th",7),x(2,"img",20),e(),i(3,"th",7),n(4),e(),i(5,"th",7),n(6),C(7,"currency"),e(),i(8,"th",21)(9,"button",22),g("click",function(){let a=s(t).$implicit,d=p();return m(d.increaseCount(a.product.id))}),n(10,"+"),e(),i(11,"input",23),E("ngModelChange",function(a){let d=s(t).$implicit;return v(d.count,a)||(d.count=a),m(a)}),e(),i(12,"button",22),g("click",function(){let a=s(t).$implicit,d=p();return m(d.decreaseCount(a.product.id))}),n(13,"-"),e()(),i(14,"th",7),n(15),C(16,"currency"),e(),i(17,"th",24)(18,"button",19),g("click",function(){let a=s(t).$implicit,d=p();return m(d.deletePrdFromCart(a.product.id))}),n(19,"Delete"),e()()()}if(c&2){let t=r.$implicit;l(2),u("src",t.product.image,P),l(2),f(t.product.title),l(2),f(_(7,5,t.product.price)),l(5),w("ngModel",t.count),l(4),f(_(16,7,t.product.price*t.count))}}function j(c,r){if(c&1&&(i(0,"h2",25),n(1),C(2,"currency"),e()),c&2){let t=p();l(),y("Total Price : ",_(2,1,t.taotal),"")}}var J=class c{constructor(r){this._cartProductsSer=r}cartProducts=[];taotal=0;length=0;ngOnInit(){let r=this._cartProductsSer.getAllCarts();r&&(this.cartProducts=r),this.getTotal(),this.length=this.cartProducts.length}increaseCount(r){let t=this.cartProducts.find(o=>o.product.id==r);t&&(t.count+=1,localStorage.setItem("cart",JSON.stringify(this.cartProducts)),this.getTotal())}decreaseCount(r){let t=this.cartProducts.find(o=>o.product.id==r);t&&t.count>1&&(t.count-=1,localStorage.setItem("cart",JSON.stringify(this.cartProducts)),this.getTotal())}getTotal(){if(this.taotal=0,"cart"in localStorage)for(let r of this.cartProducts)this.taotal+=r.count*r.product.price}deletePrdFromCart(r){this.cartProducts=this.cartProducts.filter(t=>t.product.id!=r),localStorage.setItem("cart",JSON.stringify(this.cartProducts)),this.getTotal(),this.length=this.cartProducts.length}clearShoppingCart(){localStorage.clear(),this.cartProducts=[],this.getTotal(),this.length=this.cartProducts.length}static \u0275fac=function(t){return new(t||c)(I(B))};static \u0275cmp=S({type:c,selectors:[["app-cart"]],standalone:!0,features:[T],decls:38,vars:4,consts:[[1,"cart","shadow","p-3"],[1,"text-danger","fw-bolder"],[1,"d-flex","justify-content-between","p-3"],[1,"lead"],[1,"text-success"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"table","text-center","table-bordered","mt-4","w-100"],["scope","col"],["scope","col",1,"w-25"],[4,"ngFor","ngForOf"],["class","text-end",4,"ngIf"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"form-control","btn","btn-outline-info","b-4","mt-2","border-3"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-body"],[1,"fw-bolder","text-center"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-info","form-control"],[1,"btn","btn-outline-danger",3,"click"],["alt","",2,"width","50px","height","30px",3,"src"],["scope","col",1,"d-flex"],[1,"btn","btn-outline-dark",3,"click"],["type","number","disabled","",1,"form-control","text-center","mx-1",3,"ngModelChange","ngModel"],["scope","col",1,"p-1"],[1,"text-end"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"h1",1),n(2,"Shopping Cart"),e(),i(3,"div",2)(4,"p",3),n(5,"You have "),i(6,"span",4),n(7),e(),n(8," Items In Your Cart"),e(),h(9,W,2,0,"p",5),e(),i(10,"table",6)(11,"thead")(12,"tr")(13,"th",7),n(14,"Image"),e(),i(15,"th",7),n(16,"Name"),e(),i(17,"th",7),n(18,"Price"),e(),i(19,"th",8),n(20,"Quantity"),e(),i(21,"th",7),n(22,"Total"),e(),x(23,"th",7),e()(),i(24,"tbody"),h(25,$,20,9,"tr",9),e()(),h(26,j,3,3,"h2",10),i(27,"button",11),n(28,"Order Now"),e(),i(29,"div",12)(30,"div",13)(31,"div",14)(32,"div",15)(33,"h2",16),n(34," Order Completed Sucffuly"),e()(),i(35,"div",17)(36,"button",18),n(37,"Close"),e()()()()()()),t&2&&(l(7),f(o.length),l(2),u("ngIf",o.taotal!=0),l(16),u("ngForOf",o.cartProducts),l(),u("ngIf",o.taotal!=0))},dependencies:[N,V,M,k,A,O,D,F,L]})};export{J as CartComponent};
