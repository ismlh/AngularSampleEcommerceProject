import{a as j}from"./chunk-CSMQTRKU.js";import{a as A,b as W,c as B,d as L,e as q,f as U,g as k,k as R,l as z}from"./chunk-QNAUOHVV.js";import{a as G}from"./chunk-GJFPVFQ4.js";import"./chunk-3QCEBEYH.js";import{$a as V,Ea as x,Ga as u,Ia as e,Ja as t,Ka as f,Na as M,Oa as h,Qa as D,Ra as i,Sa as g,Ua as b,V as v,Va as y,Wa as S,Y as C,Ya as F,Za as P,_a as O,ca as m,da as c,ra as w,sb as N,ua as d,va as E,vb as T,wb as I}from"./chunk-N3C7RMIE.js";var _=class l{transform(r,n=10){return r.length>n?r.substring(0,n)+"..":r}static \u0275fac=function(n){return new(n||l)};static \u0275pipe=C({name:"truncate",type:l,pure:!0,standalone:!0})};function Q(l,r){if(l&1&&(e(0,"tr")(1,"th",4),f(2,"img",32),t(),e(3,"th",4),i(4),t(),e(5,"th",4),i(6),P(7,"currency"),t(),e(8,"th",4),i(9),t(),e(10,"th",4),i(11),P(12,"truncate"),t(),e(13,"th",33)(14,"button",34),i(15,"Update"),t()(),e(16,"th",33)(17,"button",35),i(18,"Delete"),t()()()),l&2){let n=r.$implicit;d(2),u("src",n.image,w),d(2),g(n.title),d(2),g(O(7,5,n.price)),d(3),g(n.category),d(2),g(V(12,7,n.description,30))}}var H=class l{constructor(r){this._prdService=r}products=[];product={};formData=new FormData;selectedData;ngOnInit(){this._prdService.getAllProducts().subscribe(r=>{this.products=r})}onFileSelected(r){let n=r.target.files[0],o=new FileReader;o.readAsDataURL(n),o.onload=()=>{this.selectedData=o.result},this.formData.append("image",n)}catNameData(r){this.product.category=r}addProduct(){this.formData.append("title",this.product.title),this.formData.append("description",this.product.description),this.formData.append("category",this.product.category),this.formData.append("price",this.product.price.toString()),this._prdService.addProduct(this.product).subscribe(r=>{alert("Added succeffuly")},r=>{console.log(r)})}static \u0275fac=function(n){return new(n||l)(E(G))};static \u0275cmp=v({type:l,selectors:[["app-products-opreation"]],standalone:!0,features:[F],decls:54,vars:6,consts:[["prdForm","ngForm"],["type","button","data-bs-toggle","modal","data-bs-target","#exampleModal",1,"form-control","btn","btn-outline-info","b-4","mt-2","border-3"],[1,"cart","shadow","p-3"],[1,"table","text-center","table-bordered","mt-4","w-100"],["scope","col"],[4,"ngFor","ngForOf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],[1,"modal-body"],[1,"container-fluid"],[3,"ngSubmit"],[1,"row"],[1,"col-lg-6"],["for","title"],["type","text","id","title","required","","name","title",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["type","number","required","","name","price","id","price",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],[3,"categorEvent"],[1,"col-lg-5","shadow"],["for","image"],["id","image","alt","",1,"d-block",2,"width","130px",3,"src"],["type","file","id","image","required","","accept","image/*",3,"change"],[1,"col-lg-6","offset-lg-1","shadow"],["for","description ",1,"d-block"],["name","description","required","","id","description","placeholder","Type here...",3,"ngModelChange","ngModel"],["type","submit","data-bs-dismiss","modal",1,"btn","btn-outline-info","form-control","mt-2",3,"disabled"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-info","form-control"],["alt","",2,"width","50px","height","30px",3,"src"],["scope","col",1,"p-1"],[1,"btn","btn-outline-info"],[1,"btn","btn-outline-danger"]],template:function(n,o){if(n&1){let p=M();e(0,"button",1),i(1,"Add New Product"),t(),e(2,"div",2)(3,"table",3)(4,"thead")(5,"tr")(6,"th",4),i(7,"Image"),t(),e(8,"th",4),i(9,"Name"),t(),e(10,"th",4),i(11,"Price"),t(),e(12,"th",4),i(13,"Category"),t(),e(14,"th",4),i(15,"Description"),t(),f(16,"th",4)(17,"th",4),t()(),e(18,"tbody"),x(19,Q,19,10,"tr",5),t()(),e(20,"div",6)(21,"div",7)(22,"div",8)(23,"div",9)(24,"h1",10),i(25,"Add New Product"),t()(),e(26,"div",11)(27,"div",12)(28,"form",13,0),h("ngSubmit",function(){return m(p),c(o.addProduct())}),e(30,"div",14)(31,"div",15)(32,"label",16),i(33,"Title"),t(),e(34,"input",17),S("ngModelChange",function(a){return m(p),y(o.product.title,a)||(o.product.title=a),c(a)}),t()(),e(35,"div",15)(36,"label",18),i(37,"Price"),t(),e(38,"input",19),S("ngModelChange",function(a){return m(p),y(o.product.price,a)||(o.product.price=a),c(a)}),t()(),e(39,"div",20)(40,"app-category",21),h("categorEvent",function(a){return m(p),c(o.catNameData(a))}),t()(),e(41,"div",22),f(42,"label",23)(43,"img",24),e(44,"input",25),h("change",function(a){return m(p),c(o.onFileSelected(a))}),t()(),e(45,"div",26)(46,"label",27),i(47,"Description"),t(),e(48,"textarea",28),S("ngModelChange",function(a){return m(p),y(o.product.description,a)||(o.product.description=a),c(a)}),t()()(),e(49,"button",29),i(50,"Add"),t()()()(),e(51,"div",30)(52,"button",31),i(53,"Close"),t()()()()()()}if(n&2){let p=D(29);d(19),u("ngForOf",o.products),d(15),b("ngModel",o.product.title),d(4),b("ngModel",o.product.price),d(5),u("src",o.selectedData,w),d(5),b("ngModel",o.product.description),d(),u("disabled",!p.valid)}},dependencies:[I,N,T,z,U,A,k,W,B,R,q,L,_,j],styles:["textarea[_ngcontent-%COMP%]{min-height:100%;min-width:100%;min-width:120px;min-height:120px;width:100%}"]})};export{H as ProductsOpreationComponent};
